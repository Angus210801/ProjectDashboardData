2023-01-19 10:11:00 I Moonr Print           "Connet 20612 successfully!!!"
2023-01-19 10:11:00 I Moonr Get_alltests    "Get project name:Moonraker id:20612 all testplans"
2023-01-19 10:11:04 I Moonr Get_alltests    "{10114678: {'id': 10114678, 'name': 'Audio DVT test plan', 'archived': False, 'index': '10114678:Audio DVT test plan'}, 10085083: {'id': 10085083, 'name': 'ESW Test Plan', 'archived': False, 'index': '10085083:ESW Test Plan'}, 10379857: {'id': 10379857, 'name': 'Product Verification Test Plan', 'archived': False, 'index': '10379857:Product Verification Test Plan'}, 10065904: {'id': 10065904, 'name': 'Regulatory Compliance Plan ', 'archived': False, 'index': '10065904:Regulatory Compliance Plan '}}"
2023-01-19 10:11:04 I Moonr Get_alltests    "Get project name:Moonraker id:20612 all testplans successful!!!"
2023-01-19 10:18:47 I Moonr tidy_alltestcas "571"
2023-01-19 10:20:12 I Moonr Print           "DROP TABLE IF EXISTS testcases:successful"
2023-01-19 10:20:12 I Moonr Print           "CREATE TABLE IF NOT EXISTS testcases (                             testplan_id INT,                             testplan_name TEXT,                             testgroup_id INT,                             testgroup_name TEXT,                             testcycle_id INT,                             testcycle_name TEXT,                             rel TEXT,                             id INT,                             uniqueid TEXT,                             name TEXT,                             status TEXT,                             upstream TEXT,                             downstream TEXT,                             executionDate TEXT) ENGINE=InnoDB DEFAULT CHARSET=utf8:successful"
2023-01-19 10:20:12 I Moonr update_database "Insert testcases table successful"
2023-01-19 10:20:12 I Moonr Print           "CREATE TABLE IF NOT EXISTS tests (                             testplan_id INT,                             testplan_name TEXT,                             testplan_status TEXT,                             rel TEXT, status TEXT,                             count INT, date TEXT) ENGINE=InnoDB DEFAULT CHARSET=utf8:successful"
2023-01-19 10:20:12 I Moonr Print           "DELETE FROM tests WHERE date='2023-01-19':successful"
2023-01-19 10:20:12 I Moonr Print           "SELECT testplan_id FROM tests GROUP BY testplan_id:successful"
2023-01-19 10:20:12 I Moonr Print           "INSERT INTO tests (testplan_id, testplan_name, testplan_status, rel, status, count, date) SELECT testplan_id, testplan_name, 'Active' as testplan_status, rel, status, count((@rn := @rn + 1)) as count, '2023-01-19' as date FROM testcases cross join (select @rn := 0) const GROUP BY testplan_id, rel, status:successful"
2023-01-19 10:20:12 I Moonr update_database "Insert tests table successful"
2023-01-19 10:20:12 I Moonr Print           "CREATE TABLE IF NOT EXISTS testapproval (                                 rel TEXT, team TEXT, status TEXT, upstream TEXT, count INT, date TEXT                                 ) ENGINE=InnoDB DEFAULT CHARSET=utf8:successful"
2023-01-19 10:20:12 I Moonr Print           "DROP TABLE IF EXISTS alltestapproval:successful"
2023-01-19 10:20:12 I Moonr Print           "CREATE TABLE IF NOT EXISTS alltestapproval (                                 id INT, uniqueid TEXT, name TEXT, status TEXT, rel TEXT, team TEXT, upstream TEXT                                 ) ENGINE=InnoDB DEFAULT CHARSET=utf8:successful"
2023-01-19 10:20:12 I Moonr Print           "DELETE FROM testapproval WHERE date='2023-01-19':successful"
2023-01-19 10:20:12 I Moonr Print           "INSERT INTO testapproval (rel, team, status, count, date, upstream) SELECT rel, team, status, count((@rn := @rn + 1)) as count, '2023-01-19' as date, upstream FROM alltestapproval cross join (select @rn := 0) const GROUP BY rel, team, status, upstream:successful"
2023-01-19 10:20:31 I Moonr Get_allfeatuers "[{'id': 9383512, 'name': '2 variants for USB-C and USB-A connection to host.', 'documentKey': 'Moon-FEAT-1', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383513, 'name': 'Accessories', 'documentKey': 'Moon-FEAT-2', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383515, 'name': 'Boom arm', 'documentKey': 'Moon-FEAT-6', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383516, 'name': 'Busy-light integrated into headset', 'documentKey': 'Moon-FEAT-8', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383517, 'name': 'Button and LED takeover support', 'documentKey': 'Moon-FEAT-9', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383519, 'name': 'Button sounds On / Off', 'documentKey': 'Moon-FEAT-10', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383520, 'name': 'Call equalizer configuration.', 'documentKey': 'Moon-FEAT-11', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383521, 'name': 'Call management, USB', 'documentKey': 'Moon-FEAT-12', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383523, 'name': 'Device configuration changes synced to applications', 'documentKey': 'Moon-FEAT-14', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383524, 'name': 'Device Tracking', 'documentKey': 'Moon-FEAT-15', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383525, 'name': 'Durability', 'documentKey': 'Moon-FEAT-16', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383527, 'name': 'Ear cushions', 'documentKey': 'Moon-FEAT-17', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383528, 'name': 'Firmware lock', 'documentKey': 'Moon-FEAT-18', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383529, 'name': 'Firmware update USB', 'documentKey': 'Moon-FEAT-19', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383530, 'name': 'Headset interaction logging.', 'documentKey': 'Moon-FEAT-20', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383532, 'name': 'ID Concept and Wearingstyle', 'documentKey': 'Moon-FEAT-21', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383533, 'name': 'Intelligent exposure management configuration', 'documentKey': 'Moon-FEAT-22', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383534, 'name': 'Item tracking', 'documentKey': 'Moon-FEAT-23', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383535, 'name': 'Jabra production support', 'documentKey': 'Moon-FEAT-24', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383537, 'name': 'Jabra standard functionality for USB headset', 'documentKey': 'Moon-FEAT-25', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383538, 'name': 'Media control on USB', 'documentKey': 'Moon-FEAT-26', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383539, 'name': 'Music equalizer configuration', 'documentKey': 'Moon-FEAT-28', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383541, 'name': 'Mute functionality', 'documentKey': 'Moon-FEAT-29', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383542, 'name': 'Mute reminder tones On / Off', 'documentKey': 'Moon-FEAT-30', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383543, 'name': 'Packaging', 'documentKey': 'Moon-FEAT-32', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383545, 'name': 'Platform', 'documentKey': 'Moon-FEAT-34', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383546, 'name': 'Pouch', 'documentKey': 'Moon-FEAT-35', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383547, 'name': 'Regulatory approvals', 'documentKey': 'Moon-FEAT-36', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383548, 'name': 'Safe and secure firmware upgrade', 'documentKey': 'Moon-FEAT-40', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383550, 'name': 'Secure and comfortable fit', 'documentKey': 'Moon-FEAT-41', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383551, 'name': 'SKUs', 'documentKey': 'Moon-FEAT-44', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383552, 'name': 'UI elements', 'documentKey': 'Moon-FEAT-51', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383555, 'name': 'USB cable', 'documentKey': 'Moon-FEAT-52', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383556, 'name': 'User data asset management', 'documentKey': 'Moon-FEAT-53', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383558, 'name': 'User interaction logging', 'documentKey': 'Moon-FEAT-102', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383559, 'name': 'Voice guidance', 'documentKey': 'Moon-FEAT-54', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383560, 'name': 'Volume control and synchronization, USB audio', 'documentKey': 'Moon-FEAT-55', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383563, 'name': 'MS Teams Certification', 'documentKey': 'Moon-FEAT-45', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383564, 'name': 'TIA Certification', 'documentKey': 'Moon-FEAT-56', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383566, 'name': 'EN Certification', 'documentKey': 'Moon-FEAT-57', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383567, 'name': 'ETSI Certification', 'documentKey': 'Moon-FEAT-58', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383568, 'name': 'Communication Performance (Rx)', 'documentKey': 'Moon-FEAT-59', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383570, 'name': 'Communication Performance (Tx)', 'documentKey': 'Moon-FEAT-60', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383571, 'name': 'Music Performance (Rx)', 'documentKey': 'Moon-FEAT-46', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383572, 'name': 'Sidetone', 'documentKey': 'Moon-FEAT-61', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383574, 'name': 'Audio I/O', 'documentKey': 'Moon-FEAT-62', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383575, 'name': 'Audio Logging', 'documentKey': 'Moon-FEAT-63', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383577, 'name': 'User Audio Configuration', 'documentKey': 'Moon-FEAT-64', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383578, 'name': 'Acoustic Protection Performance', 'documentKey': 'Moon-FEAT-65', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383579, 'name': 'Rx Noise Cancellation', 'documentKey': 'Moon-FEAT-66', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383581, 'name': 'Super Wideband Audio', 'documentKey': 'Moon-FEAT-97', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383582, 'name': 'DECT/USB: Co-branding functionality', 'documentKey': 'Moon-FEAT-103', 'statusId': 156877, 'status': 'Completed (PL)'}, {'id': 9384409, 'name': 'Tx 2 Mics Ambient Noise Reduction (ANR)', 'documentKey': 'Moon-FEAT-94', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384412, 'name': 'Tx User Volume Control and Mute', 'documentKey': 'Moon-FEAT-67', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384413, 'name': 'Tx Equalization Filters', 'documentKey': 'Moon-FEAT-68', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384415, 'name': 'Tx Speech Level Normalization', 'documentKey': 'Moon-FEAT-99', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384417, 'name': 'Tx Super Wideband', 'documentKey': 'Moon-FEAT-100', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384418, 'name': 'Tx Echo Canceller', 'documentKey': 'Moon-FEAT-70', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384420, 'name': 'Rx On Ear Open Design', 'documentKey': 'Moon-FEAT-71', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384423, 'name': 'Rx User Volume Control and Mute', 'documentKey': 'Moon-FEAT-72', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384424, 'name': 'Rx Communication User Equalizer', 'documentKey': 'Moon-FEAT-73', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384425, 'name': 'Rx Music User Equalizer', 'documentKey': 'Moon-FEAT-74', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384427, 'name': 'Rx Equalization Filters', 'documentKey': 'Moon-FEAT-75', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384428, 'name': 'Rx Sound Prompt Player', 'documentKey': 'Moon-FEAT-76', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384431, 'name': 'Rx Intelligent Exposure Management', 'documentKey': 'Moon-FEAT-77', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384432, 'name': 'Rx Balance Voice', 'documentKey': 'Moon-FEAT-78', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384434, 'name': 'Rx Acoustic Shock Protection', 'documentKey': 'Moon-FEAT-79', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384435, 'name': 'Rx Speech Level Normalization', 'documentKey': 'Moon-FEAT-80', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384436, 'name': 'Rx G616', 'documentKey': 'Moon-FEAT-81', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384437, 'name': 'Rx Super Wideband', 'documentKey': 'Moon-FEAT-82', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384439, 'name': 'Rx Peakstop at 105dB', 'documentKey': 'Moon-FEAT-83', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384440, 'name': 'Rx Stereo in Communication Mode', 'documentKey': 'Moon-FEAT-84', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384443, 'name': 'Audio over USB on DA14195 [Dect/USB Platform]', 'documentKey': 'Moon-FEAT-85', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384446, 'name': 'Rx Audio Exposure Logging', 'documentKey': 'Moon-FEAT-86', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384447, 'name': 'Tx Noise Level Guidance', 'documentKey': 'Moon-FEAT-87', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384449, 'name': 'Simple Speech Analytics', 'documentKey': 'Moon-FEAT-88', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384452, 'name': 'Production Test Mode', 'documentKey': 'Moon-FEAT-90', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384453, 'name': 'Speaker Sensitivity Calibration', 'documentKey': 'Moon-FEAT-91', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384454, 'name': 'Microphone Level Calibration', 'documentKey': 'Moon-FEAT-92', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384457, 'name': 'Sidetone', 'documentKey': 'Moon-FEAT-89', 'statusId': 156410, 'status': 'Approved'}, {'id': 10114915, 'name': 'Compatible with global account environments', 'documentKey': 'Moon-FEAT-104', 'statusId': 156761, 'status': 'Previously approved'}]"
2023-01-19 10:20:31 I Moonr Print           "CREATE TABLE IF NOT EXISTS features (                                rel TEXT, status TEXT, count INT, date TEXT) ENGINE=InnoDB DEFAULT CHARSET=utf8:successful"
2023-01-19 10:20:31 I Moonr Print           "CREATE TABLE IF NOT EXISTS allfeatures (                                id INT, uniqueid TEXT, name TEXT, status TEXT, rel TEXT,test_status TEXT) ENGINE=InnoDB DEFAULT CHARSET=utf8:successful"
2023-01-19 10:20:31 I Moonr Print           "DELETE FROM features WHERE date='2023-01-19':successful"
2023-01-19 10:20:31 I Moonr Print           "INSERT INTO features (rel, status, count, date)                                 SELECT rel, status, count((@rn := @rn + 1)) as count, '2023-01-19' as date FROM allfeatures cross join (select @rn := 0) const GROUP BY rel, status:successful"
2023-01-19 10:20:49 I Moonr Get_allchangere "[{'id': 9383500, 'name': 'Audio quality better than coming competitor products', 'documentKey': 'Moon-CR-2', 'statusId': 156603, 'status': 'Info pending', 'priorityId': 156643, 'priority': 'Not defined', 'req': 'GPM'}, {'id': 9383501, 'name': 'User Interaction logging part of FCS', 'documentKey': 'Moon-CR-3', 'statusId': 156410, 'status': 'Approved', 'priorityId': 156646, 'priority': 'Normal', 'req': 'Systems Engineering'}, {'id': 9383502, 'name': 'General visual indication procedures', 'documentKey': 'Moon-CR-4', 'statusId': 156410, 'status': 'Approved', 'priorityId': 156646, 'priority': 'Normal', 'req': 'UX'}, {'id': 9383504, 'name': 'Busylight LED: Firmware update', 'documentKey': 'Moon-CR-5', 'statusId': 156410, 'status': 'Approved', 'priorityId': 156643, 'priority': 'Not defined', 'req': 'UX'}, {'id': 9383505, 'name': 'Work from home SKU', 'documentKey': 'Moon-CR-6', 'statusId': 156700, 'status': 'Ready for estimation', 'priorityId': 156643, 'priority': 'Not defined', 'req': 'GPM'}]"
2023-01-19 10:20:49 I Moonr Print           "CREATE TABLE IF NOT EXISTS changes (                                 rel TEXT, status TEXT, priority TEXT,                                 requester TEXT, date TEXT, count INT) ENGINE=InnoDB DEFAULT CHARSET=utf8:successful"
2023-01-19 10:20:49 I Moonr Print           "CREATE TABLE IF NOT EXISTS allchanges (                                 id INT, uniqueid TEXT, name TEXT,                                 status TEXT, rel TEXT, priority TEXT,                                 requester TEXT) ENGINE=InnoDB DEFAULT CHARSET=utf8:successful"
2023-01-19 10:20:49 I Moonr Print           "DELETE FROM changes WHERE date='2023-01-19':successful"
2023-01-19 10:20:49 I Moonr Print           "INSERT INTO changes (                                 rel, status, priority, requester, date, count)                                 SELECT rel, status, priority, requester, '2023-01-19' as date, count((@rn := @rn + 1)) as count FROM allchanges                                 cross join (select @rn := 0) const GROUP BY rel, status, priority, requester:successful"
2023-01-19 10:21:41 I Moonr Print           "CREATE TABLE IF NOT EXISTS designspec (                            rel TEXT, team TEXT, status TEXT, count INT, date text) ENGINE=InnoDB DEFAULT CHARSET=utf8:successful"
2023-01-19 10:21:41 I Moonr Print           "CREATE TABLE IF NOT EXISTS alldesignspec (                             id INT, uniqueid TEXT, name TEXT, status TEXT, rel TEXT, team TEXT) ENGINE=InnoDB DEFAULT CHARSET=utf8:successful"
2023-01-19 10:21:41 I Moonr Print           "DELETE FROM designspec WHERE date='2023-01-19':successful"
2023-01-19 10:21:41 I Moonr Print           "INSERT INTO designspec (rel, team, status, count, date) SELECT rel, team, status, count((@rn := @rn + 1)) as count, '2023-01-19' as date FROM alldesignspec cross join (select @rn := 0) const GROUP BY rel, team, status:successful"
2023-01-19 10:21:46 I Moonr Get_alluserstor "[]"
2023-01-19 10:21:46 I Moonr Print           "CREATE TABLE IF NOT EXISTS userstories (                 rel TEXT, status TEXT, count INT, date TEXT) ENGINE=InnoDB DEFAULT CHARSET=utf8:successful"
2023-01-19 10:21:46 I Moonr Print           "CREATE TABLE IF NOT EXISTS alluserstories (                 id INT, uniqueid TEXT, name TEXT, status TEXT, rel TEXT) ENGINE=InnoDB DEFAULT CHARSET=utf8:successful"
2023-01-19 10:21:46 I Moonr Print           "DELETE FROM userstories WHERE date='2023-01-19':successful"
2023-01-19 10:21:46 I Moonr Print           "INSERT INTO userstories (rel, status, count, date) SELECT rel, status, count((@rn := @rn + 1)) as count, '2023-01-19' as date FROM alluserstories cross join (select @rn := 0) const GROUP BY rel, status:successful"
Traceback (most recent call last):
  File "E:\New Jira_Jama\Jama_jira_script\REST_Jama20201207.py", line 196, in fetch_data
    jamadata.Get_and_Save()
  File "E:\New Jira_Jama\Jama_jira_script\Subprogress.py", line 461, in Get_and_Save
    self.Get_alldefects()
  File "E:\New Jira_Jama\Jama_jira_script\Subprogress.py", line 611, in Get_alldefects
    self.P_alldefects = self.get_alldefects(projectId, defects_type_id)
  File "E:\New Jira_Jama\Jama_jira_script\Subprogress.py", line 324, in get_alldefects
    params={"project":projectId,"startAt":0,"maxResults":50,"itemType":item_type_id}, callback=data_reshape.getAllDefects, endless=True)
  File "E:\New Jira_Jama\Jama_jira_script\api\api_common.py", line 179, in getResource
    return callback(rawdatas,rawmeta)
  File "E:\New Jira_Jama\Jama_jira_script\data_reshape.py", line 443, in getAllDefects
    "priorityId":item["fields"]["priority"], "priority":"","upstream":"","jira":jira})
KeyError: 'priority'
2023-01-19 12:05:33 I Moonr Print           "Connet 20612 successfully!!!"
2023-01-19 12:05:33 I Moonr Get_alltests    "Get project name:Moonraker id:20612 all testplans"
2023-01-19 12:05:36 I Moonr Get_alltests    "{10114678: {'id': 10114678, 'name': 'Audio DVT test plan', 'archived': False, 'index': '10114678:Audio DVT test plan'}, 10085083: {'id': 10085083, 'name': 'ESW Test Plan', 'archived': False, 'index': '10085083:ESW Test Plan'}, 10379857: {'id': 10379857, 'name': 'Product Verification Test Plan', 'archived': False, 'index': '10379857:Product Verification Test Plan'}, 10065904: {'id': 10065904, 'name': 'Regulatory Compliance Plan ', 'archived': False, 'index': '10065904:Regulatory Compliance Plan '}}"
2023-01-19 12:05:36 I Moonr Get_alltests    "Get project name:Moonraker id:20612 all testplans successful!!!"
2023-01-19 12:10:48 I Moonr tidy_alltestcas "571"
2023-01-19 12:12:02 I Moonr Print           "DROP TABLE IF EXISTS testcases:successful"
2023-01-19 12:12:02 I Moonr Print           "CREATE TABLE IF NOT EXISTS testcases (                             testplan_id INT,                             testplan_name TEXT,                             testgroup_id INT,                             testgroup_name TEXT,                             testcycle_id INT,                             testcycle_name TEXT,                             rel TEXT,                             id INT,                             uniqueid TEXT,                             name TEXT,                             status TEXT,                             upstream TEXT,                             downstream TEXT,                             executionDate TEXT) ENGINE=InnoDB DEFAULT CHARSET=utf8:successful"
2023-01-19 12:12:02 I Moonr update_database "Insert testcases table successful"
2023-01-19 12:12:02 I Moonr Print           "CREATE TABLE IF NOT EXISTS tests (                             testplan_id INT,                             testplan_name TEXT,                             testplan_status TEXT,                             rel TEXT, status TEXT,                             count INT, date TEXT) ENGINE=InnoDB DEFAULT CHARSET=utf8:successful"
2023-01-19 12:12:02 I Moonr Print           "DELETE FROM tests WHERE date='2023-01-19':successful"
2023-01-19 12:12:02 I Moonr Print           "SELECT testplan_id FROM tests GROUP BY testplan_id:successful"
2023-01-19 12:12:02 I Moonr Print           "INSERT INTO tests (testplan_id, testplan_name, testplan_status, rel, status, count, date) SELECT testplan_id, testplan_name, 'Active' as testplan_status, rel, status, count((@rn := @rn + 1)) as count, '2023-01-19' as date FROM testcases cross join (select @rn := 0) const GROUP BY testplan_id, rel, status:successful"
2023-01-19 12:12:02 I Moonr update_database "Insert tests table successful"
2023-01-19 12:12:02 I Moonr Print           "CREATE TABLE IF NOT EXISTS testapproval (                                 rel TEXT, team TEXT, status TEXT, upstream TEXT, count INT, date TEXT                                 ) ENGINE=InnoDB DEFAULT CHARSET=utf8:successful"
2023-01-19 12:12:02 I Moonr Print           "DROP TABLE IF EXISTS alltestapproval:successful"
2023-01-19 12:12:02 I Moonr Print           "CREATE TABLE IF NOT EXISTS alltestapproval (                                 id INT, uniqueid TEXT, name TEXT, status TEXT, rel TEXT, team TEXT, upstream TEXT                                 ) ENGINE=InnoDB DEFAULT CHARSET=utf8:successful"
2023-01-19 12:12:02 I Moonr Print           "DELETE FROM testapproval WHERE date='2023-01-19':successful"
2023-01-19 12:12:02 I Moonr Print           "INSERT INTO testapproval (rel, team, status, count, date, upstream) SELECT rel, team, status, count((@rn := @rn + 1)) as count, '2023-01-19' as date, upstream FROM alltestapproval cross join (select @rn := 0) const GROUP BY rel, team, status, upstream:successful"
2023-01-19 12:12:15 I Moonr Get_allfeatuers "[{'id': 9383512, 'name': '2 variants for USB-C and USB-A connection to host.', 'documentKey': 'Moon-FEAT-1', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383513, 'name': 'Accessories', 'documentKey': 'Moon-FEAT-2', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383515, 'name': 'Boom arm', 'documentKey': 'Moon-FEAT-6', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383516, 'name': 'Busy-light integrated into headset', 'documentKey': 'Moon-FEAT-8', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383517, 'name': 'Button and LED takeover support', 'documentKey': 'Moon-FEAT-9', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383519, 'name': 'Button sounds On / Off', 'documentKey': 'Moon-FEAT-10', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383520, 'name': 'Call equalizer configuration.', 'documentKey': 'Moon-FEAT-11', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383521, 'name': 'Call management, USB', 'documentKey': 'Moon-FEAT-12', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383523, 'name': 'Device configuration changes synced to applications', 'documentKey': 'Moon-FEAT-14', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383524, 'name': 'Device Tracking', 'documentKey': 'Moon-FEAT-15', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383525, 'name': 'Durability', 'documentKey': 'Moon-FEAT-16', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383527, 'name': 'Ear cushions', 'documentKey': 'Moon-FEAT-17', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383528, 'name': 'Firmware lock', 'documentKey': 'Moon-FEAT-18', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383529, 'name': 'Firmware update USB', 'documentKey': 'Moon-FEAT-19', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383530, 'name': 'Headset interaction logging.', 'documentKey': 'Moon-FEAT-20', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383532, 'name': 'ID Concept and Wearingstyle', 'documentKey': 'Moon-FEAT-21', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383533, 'name': 'Intelligent exposure management configuration', 'documentKey': 'Moon-FEAT-22', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383534, 'name': 'Item tracking', 'documentKey': 'Moon-FEAT-23', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383535, 'name': 'Jabra production support', 'documentKey': 'Moon-FEAT-24', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383537, 'name': 'Jabra standard functionality for USB headset', 'documentKey': 'Moon-FEAT-25', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383538, 'name': 'Media control on USB', 'documentKey': 'Moon-FEAT-26', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383539, 'name': 'Music equalizer configuration', 'documentKey': 'Moon-FEAT-28', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383541, 'name': 'Mute functionality', 'documentKey': 'Moon-FEAT-29', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383542, 'name': 'Mute reminder tones On / Off', 'documentKey': 'Moon-FEAT-30', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383543, 'name': 'Packaging', 'documentKey': 'Moon-FEAT-32', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383545, 'name': 'Platform', 'documentKey': 'Moon-FEAT-34', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383546, 'name': 'Pouch', 'documentKey': 'Moon-FEAT-35', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383547, 'name': 'Regulatory approvals', 'documentKey': 'Moon-FEAT-36', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383548, 'name': 'Safe and secure firmware upgrade', 'documentKey': 'Moon-FEAT-40', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383550, 'name': 'Secure and comfortable fit', 'documentKey': 'Moon-FEAT-41', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383551, 'name': 'SKUs', 'documentKey': 'Moon-FEAT-44', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383552, 'name': 'UI elements', 'documentKey': 'Moon-FEAT-51', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383555, 'name': 'USB cable', 'documentKey': 'Moon-FEAT-52', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383556, 'name': 'User data asset management', 'documentKey': 'Moon-FEAT-53', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383558, 'name': 'User interaction logging', 'documentKey': 'Moon-FEAT-102', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383559, 'name': 'Voice guidance', 'documentKey': 'Moon-FEAT-54', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383560, 'name': 'Volume control and synchronization, USB audio', 'documentKey': 'Moon-FEAT-55', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383563, 'name': 'MS Teams Certification', 'documentKey': 'Moon-FEAT-45', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383564, 'name': 'TIA Certification', 'documentKey': 'Moon-FEAT-56', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383566, 'name': 'EN Certification', 'documentKey': 'Moon-FEAT-57', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383567, 'name': 'ETSI Certification', 'documentKey': 'Moon-FEAT-58', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383568, 'name': 'Communication Performance (Rx)', 'documentKey': 'Moon-FEAT-59', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383570, 'name': 'Communication Performance (Tx)', 'documentKey': 'Moon-FEAT-60', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383571, 'name': 'Music Performance (Rx)', 'documentKey': 'Moon-FEAT-46', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383572, 'name': 'Sidetone', 'documentKey': 'Moon-FEAT-61', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383574, 'name': 'Audio I/O', 'documentKey': 'Moon-FEAT-62', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383575, 'name': 'Audio Logging', 'documentKey': 'Moon-FEAT-63', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383577, 'name': 'User Audio Configuration', 'documentKey': 'Moon-FEAT-64', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383578, 'name': 'Acoustic Protection Performance', 'documentKey': 'Moon-FEAT-65', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383579, 'name': 'Rx Noise Cancellation', 'documentKey': 'Moon-FEAT-66', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383581, 'name': 'Super Wideband Audio', 'documentKey': 'Moon-FEAT-97', 'statusId': 156410, 'status': 'Approved'}, {'id': 9383582, 'name': 'DECT/USB: Co-branding functionality', 'documentKey': 'Moon-FEAT-103', 'statusId': 156877, 'status': 'Completed (PL)'}, {'id': 9384409, 'name': 'Tx 2 Mics Ambient Noise Reduction (ANR)', 'documentKey': 'Moon-FEAT-94', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384412, 'name': 'Tx User Volume Control and Mute', 'documentKey': 'Moon-FEAT-67', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384413, 'name': 'Tx Equalization Filters', 'documentKey': 'Moon-FEAT-68', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384415, 'name': 'Tx Speech Level Normalization', 'documentKey': 'Moon-FEAT-99', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384417, 'name': 'Tx Super Wideband', 'documentKey': 'Moon-FEAT-100', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384418, 'name': 'Tx Echo Canceller', 'documentKey': 'Moon-FEAT-70', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384420, 'name': 'Rx On Ear Open Design', 'documentKey': 'Moon-FEAT-71', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384423, 'name': 'Rx User Volume Control and Mute', 'documentKey': 'Moon-FEAT-72', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384424, 'name': 'Rx Communication User Equalizer', 'documentKey': 'Moon-FEAT-73', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384425, 'name': 'Rx Music User Equalizer', 'documentKey': 'Moon-FEAT-74', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384427, 'name': 'Rx Equalization Filters', 'documentKey': 'Moon-FEAT-75', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384428, 'name': 'Rx Sound Prompt Player', 'documentKey': 'Moon-FEAT-76', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384431, 'name': 'Rx Intelligent Exposure Management', 'documentKey': 'Moon-FEAT-77', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384432, 'name': 'Rx Balance Voice', 'documentKey': 'Moon-FEAT-78', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384434, 'name': 'Rx Acoustic Shock Protection', 'documentKey': 'Moon-FEAT-79', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384435, 'name': 'Rx Speech Level Normalization', 'documentKey': 'Moon-FEAT-80', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384436, 'name': 'Rx G616', 'documentKey': 'Moon-FEAT-81', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384437, 'name': 'Rx Super Wideband', 'documentKey': 'Moon-FEAT-82', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384439, 'name': 'Rx Peakstop at 105dB', 'documentKey': 'Moon-FEAT-83', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384440, 'name': 'Rx Stereo in Communication Mode', 'documentKey': 'Moon-FEAT-84', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384443, 'name': 'Audio over USB on DA14195 [Dect/USB Platform]', 'documentKey': 'Moon-FEAT-85', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384446, 'name': 'Rx Audio Exposure Logging', 'documentKey': 'Moon-FEAT-86', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384447, 'name': 'Tx Noise Level Guidance', 'documentKey': 'Moon-FEAT-87', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384449, 'name': 'Simple Speech Analytics', 'documentKey': 'Moon-FEAT-88', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384452, 'name': 'Production Test Mode', 'documentKey': 'Moon-FEAT-90', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384453, 'name': 'Speaker Sensitivity Calibration', 'documentKey': 'Moon-FEAT-91', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384454, 'name': 'Microphone Level Calibration', 'documentKey': 'Moon-FEAT-92', 'statusId': 156410, 'status': 'Approved'}, {'id': 9384457, 'name': 'Sidetone', 'documentKey': 'Moon-FEAT-89', 'statusId': 156410, 'status': 'Approved'}, {'id': 10114915, 'name': 'Compatible with global account environments', 'documentKey': 'Moon-FEAT-104', 'statusId': 156761, 'status': 'Previously approved'}]"
2023-01-19 12:12:15 I Moonr Print           "CREATE TABLE IF NOT EXISTS features (                                rel TEXT, status TEXT, count INT, date TEXT) ENGINE=InnoDB DEFAULT CHARSET=utf8:successful"
2023-01-19 12:12:15 I Moonr Print           "CREATE TABLE IF NOT EXISTS allfeatures (                                id INT, uniqueid TEXT, name TEXT, status TEXT, rel TEXT,test_status TEXT) ENGINE=InnoDB DEFAULT CHARSET=utf8:successful"
2023-01-19 12:12:15 I Moonr Print           "DELETE FROM features WHERE date='2023-01-19':successful"
2023-01-19 12:12:15 I Moonr Print           "INSERT INTO features (rel, status, count, date)                                 SELECT rel, status, count((@rn := @rn + 1)) as count, '2023-01-19' as date FROM allfeatures cross join (select @rn := 0) const GROUP BY rel, status:successful"
2023-01-19 12:12:26 I Moonr Get_allchangere "[{'id': 9383500, 'name': 'Audio quality better than coming competitor products', 'documentKey': 'Moon-CR-2', 'statusId': 156603, 'status': 'Info pending', 'priorityId': 156643, 'priority': 'Not defined', 'req': 'GPM'}, {'id': 9383501, 'name': 'User Interaction logging part of FCS', 'documentKey': 'Moon-CR-3', 'statusId': 156410, 'status': 'Approved', 'priorityId': 156646, 'priority': 'Normal', 'req': 'Systems Engineering'}, {'id': 9383502, 'name': 'General visual indication procedures', 'documentKey': 'Moon-CR-4', 'statusId': 156410, 'status': 'Approved', 'priorityId': 156646, 'priority': 'Normal', 'req': 'UX'}, {'id': 9383504, 'name': 'Busylight LED: Firmware update', 'documentKey': 'Moon-CR-5', 'statusId': 156410, 'status': 'Approved', 'priorityId': 156643, 'priority': 'Not defined', 'req': 'UX'}, {'id': 9383505, 'name': 'Work from home SKU', 'documentKey': 'Moon-CR-6', 'statusId': 156700, 'status': 'Ready for estimation', 'priorityId': 156643, 'priority': 'Not defined', 'req': 'GPM'}]"
2023-01-19 12:12:26 I Moonr Print           "CREATE TABLE IF NOT EXISTS changes (                                 rel TEXT, status TEXT, priority TEXT,                                 requester TEXT, date TEXT, count INT) ENGINE=InnoDB DEFAULT CHARSET=utf8:successful"
2023-01-19 12:12:26 I Moonr Print           "CREATE TABLE IF NOT EXISTS allchanges (                                 id INT, uniqueid TEXT, name TEXT,                                 status TEXT, rel TEXT, priority TEXT,                                 requester TEXT) ENGINE=InnoDB DEFAULT CHARSET=utf8:successful"
2023-01-19 12:12:26 I Moonr Print           "DELETE FROM changes WHERE date='2023-01-19':successful"
2023-01-19 12:12:26 I Moonr Print           "INSERT INTO changes (                                 rel, status, priority, requester, date, count)                                 SELECT rel, status, priority, requester, '2023-01-19' as date, count((@rn := @rn + 1)) as count FROM allchanges                                 cross join (select @rn := 0) const GROUP BY rel, status, priority, requester:successful"
2023-01-19 12:13:02 I Moonr Print           "CREATE TABLE IF NOT EXISTS designspec (                            rel TEXT, team TEXT, status TEXT, count INT, date text) ENGINE=InnoDB DEFAULT CHARSET=utf8:successful"
2023-01-19 12:13:02 I Moonr Print           "CREATE TABLE IF NOT EXISTS alldesignspec (                             id INT, uniqueid TEXT, name TEXT, status TEXT, rel TEXT, team TEXT) ENGINE=InnoDB DEFAULT CHARSET=utf8:successful"
2023-01-19 12:13:02 I Moonr Print           "DELETE FROM designspec WHERE date='2023-01-19':successful"
2023-01-19 12:13:02 I Moonr Print           "INSERT INTO designspec (rel, team, status, count, date) SELECT rel, team, status, count((@rn := @rn + 1)) as count, '2023-01-19' as date FROM alldesignspec cross join (select @rn := 0) const GROUP BY rel, team, status:successful"
2023-01-19 12:13:05 I Moonr Get_alluserstor "[]"
2023-01-19 12:13:05 I Moonr Print           "CREATE TABLE IF NOT EXISTS userstories (                 rel TEXT, status TEXT, count INT, date TEXT) ENGINE=InnoDB DEFAULT CHARSET=utf8:successful"
2023-01-19 12:13:05 I Moonr Print           "CREATE TABLE IF NOT EXISTS alluserstories (                 id INT, uniqueid TEXT, name TEXT, status TEXT, rel TEXT) ENGINE=InnoDB DEFAULT CHARSET=utf8:successful"
2023-01-19 12:13:05 I Moonr Print           "DELETE FROM userstories WHERE date='2023-01-19':successful"
2023-01-19 12:13:05 I Moonr Print           "INSERT INTO userstories (rel, status, count, date) SELECT rel, status, count((@rn := @rn + 1)) as count, '2023-01-19' as date FROM alluserstories cross join (select @rn := 0) const GROUP BY rel, status:successful"
Traceback (most recent call last):
  File "E:\New Jira_Jama\Jama_jira_script\REST_Jama20201207.py", line 196, in fetch_data
    jamadata.Get_and_Save()
  File "E:\New Jira_Jama\Jama_jira_script\Subprogress.py", line 461, in Get_and_Save
    self.Get_alldefects()
  File "E:\New Jira_Jama\Jama_jira_script\Subprogress.py", line 611, in Get_alldefects
    self.P_alldefects = self.get_alldefects(projectId, defects_type_id)
  File "E:\New Jira_Jama\Jama_jira_script\Subprogress.py", line 324, in get_alldefects
    params={"project":projectId,"startAt":0,"maxResults":50,"itemType":item_type_id}, callback=data_reshape.getAllDefects, endless=True)
  File "E:\New Jira_Jama\Jama_jira_script\api\api_common.py", line 179, in getResource
    return callback(rawdatas,rawmeta)
  File "E:\New Jira_Jama\Jama_jira_script\data_reshape.py", line 443, in getAllDefects
    "priorityId":item["fields"]["priority"], "priority":"","upstream":"","jira":jira})
KeyError: 'priority'
